jQuery.fn.minimeFeed=function(a,b,c){function e(a){var b=new Date(a);var c=b.getFullYear();var d=b.getMonth();var e=Number(d)+1;var f=b.getDate();var g=""+e;if(g.length==1){var g="0"+g}var h=""+f;if(h.length==1){var h="0"+h}var i=b.getDay();var j=b.getHours();var k=b.getMinutes();var l=b.getMilliseconds();var m=""+j;if(m.length==1){var m="0"+m}var n=""+k;if(n.length==1){var n="0"+n}var o=""+l;if(o.length==1){var o="0"+o}var p=fOpt.dayList.split("|");var q=fOpt.monthList.split("|");var r=p[i];var s=q[d];var t=fOpt.dateMode;t=t.replace("Y",c);t=t.replace("m",g);t=t.replace("d",h);t=t.replace("H",m);t=t.replace("i",n);t=t.replace("s",o);t=t.replace("n",e);t=t.replace("j",f);t=t.replace("G",j);t=t.replace("F","[MN]");t=t.replace("l","[DN]");t=t.replace("[MN]",s);t=t.replace("[DN]",r);return t}function d(a,b,c,d){$(a).html(c.loadingMsg);return $.ajax({type:"GET",url:b,dataType:"xml",timeout:c.timeout,success:function(b){setHtml="";if($(b).children("rss").length>0){if(c.getFeedTitle){var f=$(b).children("rss").children("channel").children("title").text();setHtml+="<h4>"+f+"</h4>"}setHtml+='<ul class="minimeFeed">';rscnt=0;$(b).children("rss").children("channel").find("item").each(function(){rscnt++;setHtml+="<li>";if($(this).children("title").length>0&&c.getItemTitle){var a=$(this).children("title").text();setHtml+="<b>"+a+"</b>"}setHtml+='<div class="minimeFeedContent">';if($(this).children("pubDate").length>0&&c.getItemDate){var b=$(this).children("pubDate").text();if(c.dateMode!="default"){rIdForm=e(b);setHtml+='<div class="minimeFeedDate">'+rIdForm+"</div>"}else{setHtml+='<div class="minimeFeedDate">'+b+"</div>"}}if($(this).children("description").length>0&&c.getItemSummary){var d=$(this).children("description").text();if(c.summaryLengthLimit){d=d.substr(0,c.summaryLengthLimit)+"..."}setHtml+='<div class="minimeFeedText">'+d+"</div>"}if($(this).children("link").length>0&&c.getItemLink){var f=$(this).children("link").text();setHtml+='<a href="'+f+'" target="_blank">'+c.nextLinkText+"</a>"}setHtml+="</div>";setHtml+="</li>";if(rscnt==c.limit){return false}});setHtml+="</ul>"}if($(b).children("feed").length>0){if(c.getFeedTitle){var g=$(b).children("feed").children("title").text();setHtml+="<h4>"+g+"</h4>"}setHtml+='<ul class="minimeFeed">';atcnt=0;$(b).children("feed").children("entry").each(function(){atcnt++;setHtml+="<li>";if($(this).children("title").length>0&&c.getItemTitle){var a=$(this).children("title").text();setHtml+="<b>"+a+"</b>"}setHtml+='<div class="minimeFeedContent">';if($(this).children("updated").length>0&&c.getItemDate){var b=$(this).children("updated").text();if(c.dateMode!="default"){rIdForm=e(b);setHtml+='<div class="minimeFeedDate">'+rIdForm+"</div>"}else{setHtml+='<div class="minimeFeedDate">'+b+"</div>"}}if($(this).children("summary").length>0&&c.getItemSummary){var d=$(this).children("summary").text();if(c.summaryLengthLimit){d=d.substr(0,c.summaryLengthLimit)+"..."}setHtml+='<div class="minimeFeedText">'+d+"</div>"}if($(this).children("description").length>0&&c.getItemDescription){var f=$(this).children("description").text();if(c.descLengthLimit){f=f.substr(0,c.descLengthLimit)+"..."}setHtml+='<div class="minimeFeedText">'+f+"</div>"}if($(this).children("content").length>0&&c.getContent){var g=$(this).children("content").text();setHtml+='<div class="minimeFeedText">'+g+"</div>"}if($(this).children("id").length>0&&c.getAtomId){var h=$(this).children("id").text();setHtml+='<div class="minimeFeedAtomId">'+h+"</div>"}if($(this).children("link").length>0&&c.getItemLink){var i=$(this).children("link:first").attr("href");setHtml+='<a href="'+i+'" target="_blank">'+c.nextLinkText+"</a>"}setHtml+="</div>";setHtml+="</li>";if(atcnt==c.limit){return false}});setHtml+="</ul>"}if($(b).children("rss").length==0&&$(b).children("feed").length==0){setHtml+=c.wrongXmlText}$(a).empty();$(a).append(setHtml);if(typeof d=="function"){d.call(this,b)}return true},error:function(b,d,e){setHtml="";if(b.statusText=="timeout"){setHtml+=c.timeoutText}if(b.statusText=="error"){setHtml+=c.errorText}if(b.statusText=="notmodified"){setHtml+=c.notModifiedText}if(b.statusText=="parsererror"){setHtml+=c.parserErrorText}$(a).empty();$(a).append(setHtml);return false}})}fOpt=jQuery.extend({phpRepeater:"getfeed.php",timeout:5e4,limit:10,getFeedTitle:true,getItemTitle:true,getItemDate:true,dateMode:"Y F j, l H:i",dayList:"Sunday|Monday|Tuesday|Wednesday|Thursday|Friday|Saturday",monthList:"January|February|March|April|May|June|July|August|September|October|November|December",getItemSummary:true,summaryLengthLimit:false,getItemDescription:false,descLengthLimit:false,getItemLink:true,getAtomId:false,getContent:true,nextLinkText:"next &raquo;",wrongXmlText:"Feeds are not given",timeoutText:"No responses were received within the specified time",errorText:"The file is not found or network failure",notModifiedText:"The source has not changed since the last request",parserErrorText:"Analytical error",loadingMsg:"<img src='preloader.gif' />"},b);if(!a||a.length==0){$(this).append(fOpt.errorText);return false}if(a.substr(0,7)=="http://"&&(fOpt.phpRepeater!=""||fOpt.phpRepeater!=null)){a=fOpt.phpRepeater+"?url="+a.substr(7)}selected=this;return d(selected,a,fOpt,c)};jQuery.fn.miniFeed=function(a,b,c){$(this).minimeFeed(a,b,c)}